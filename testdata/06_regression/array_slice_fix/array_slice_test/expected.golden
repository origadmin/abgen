//go:build !abgen_source

// Code generated by abgen. DO NOT EDIT.
// versions: abgen
// source: ../../testdata/06_regression/array_slice_fix/array_slice_test

package array_slice_test

import (
	source "github.com/origadmin/abgen/testdata/06_regression/array_slice_fix/array_slice_test/source"
	target "github.com/origadmin/abgen/testdata/06_regression/array_slice_fix/array_slice_test/target"
	time "time"
)

// Local type aliases for external types.
type (
	Department    = source.Department
	DepartmentPB  = target.Department
	Departments   = []Department
	DepartmentsPB = []DepartmentPB
	Time          = time.Time
	User          = source.User
	UserPB        = target.User
	Users         = []User
	UsersPB       = []UserPB
)

// ConvertDepartmentsToDepartmentsPB converts Departments to DepartmentsPB
func ConvertDepartmentsToDepartmentsPB(froms Departments) DepartmentsPB {
	if froms == nil {
		return nil
	}
	tos := make(DepartmentsPB, len(froms))
	for i, f := range froms {
		converted := ConvertDepartmentToDepartmentPB(&f)
		if converted != nil {
			tos[i] = *converted
		}
	}
	return tos
}

// ConvertDepartmentsPBToDepartments converts DepartmentsPB to Departments
func ConvertDepartmentsPBToDepartments(froms DepartmentsPB) Departments {
	if froms == nil {
		return nil
	}
	tos := make(Departments, len(froms))
	for i, f := range froms {
		converted := ConvertDepartmentPBToDepartment(&f)
		if converted != nil {
			tos[i] = *converted
		}
	}
	return tos
}

// ConvertUsersToUsersPB converts Users to UsersPB
func ConvertUsersToUsersPB(froms Users) UsersPB {
	if froms == nil {
		return nil
	}
	tos := make(UsersPB, len(froms))
	for i, f := range froms {
		converted := ConvertUserToUserPB(&f)
		if converted != nil {
			tos[i] = *converted
		}
	}
	return tos
}

// ConvertUsersPBToUsers converts UsersPB to Users
func ConvertUsersPBToUsers(froms UsersPB) Users {
	if froms == nil {
		return nil
	}
	tos := make(Users, len(froms))
	for i, f := range froms {
		converted := ConvertUserPBToUser(&f)
		if converted != nil {
			tos[i] = *converted
		}
	}
	return tos
}

// ConvertDepartmentToDepartmentPB converts Department to DepartmentPB
func ConvertDepartmentToDepartmentPB(from *Department) *DepartmentPB {
	if from == nil {
		return nil
	}

	to := &DepartmentPB{
		Id:          int32(from.ID),
		Name:        from.Name,
		Description: from.Description,
		CreatedAt:   ConvertTimeToString(from.CreatedAt),
	}
	return to
}

// ConvertDepartmentPBToDepartment converts DepartmentPB to Department
func ConvertDepartmentPBToDepartment(from *DepartmentPB) *Department {
	if from == nil {
		return nil
	}

	to := &Department{
		ID:          int(from.Id),
		Name:        from.Name,
		Description: from.Description,
		CreatedAt:   ConvertStringToTime(from.CreatedAt),
	}
	return to
}

// ConvertUserToUserPB converts User to UserPB
func ConvertUserToUserPB(from *User) *UserPB {
	if from == nil {
		return nil
	}

	to := &UserPB{
		Id:        int32(from.ID),
		Username:  from.Username,
		Age:       int32(from.Age),
		Gender:    ConvertGenderToGenderPB(from.Gender),
		Status:    ConvertUserStatusToUserPBStatus(from.Status),
		CreatedAt: ConvertTimeToString(from.CreatedAt),
	}
	return to
}

// ConvertUserPBToUser converts UserPB to User
func ConvertUserPBToUser(from *UserPB) *User {
	if from == nil {
		return nil
	}

	to := &User{
		ID:        int(from.Id),
		Username:  from.Username,
		Age:       int(from.Age),
		Gender:    ConvertGenderPBToGender(from.Gender),
		Status:    ConvertUserPBStatusToUserStatus(from.Status),
		CreatedAt: ConvertStringToTime(from.CreatedAt),
	}
	return to
}

// --- Helper Functions ---

func ConvertStringToTime(s string) time.Time {
	t, _ := time.Parse(time.RFC3339, s)
	return t
}

func ConvertTimeToString(t time.Time) string {
	return t.Format(time.RFC3339)
}
